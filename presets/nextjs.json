{
  "extends": "base",
  "metrics": [
    {
      "name": "lintErrors",
      "weight": 40,
      "command": "npx eslint . --format json 2>/dev/null | jq '[.[].errorCount] | add // 0'",
      "higherIsBetter": false,
      "target": 0
    },
    {
      "name": "typeErrors",
      "weight": 40,
      "command": "npx tsc --noEmit 2>&1 | grep -c 'error TS' || echo 0",
      "higherIsBetter": false,
      "target": 0
    },
    {
      "name": "lintWarnings",
      "weight": 20,
      "command": "npx eslint . --format json 2>/dev/null | jq '[.[].warningCount] | add // 0'",
      "higherIsBetter": false,
      "target": 0
    }
  ],
  "strategies": [
    {
      "name": "fix-lint",
      "focus": "lintErrors",
      "prompt": "Corrige une erreur ESLint. Exécute d'abord `npx eslint . --format stylish` pour voir les erreurs, puis corrige UNE seule erreur."
    },
    {
      "name": "fix-types",
      "focus": "typeErrors",
      "prompt": "Corrige une erreur TypeScript. Exécute d'abord `npx tsc --noEmit` pour voir les erreurs, puis corrige UNE seule erreur."
    },
    {
      "name": "fix-warnings",
      "focus": "lintWarnings",
      "prompt": "Corrige un warning ESLint. Exécute d'abord `npx eslint . --format stylish` pour voir les warnings, puis corrige UN seul warning."
    }
  ]
}
